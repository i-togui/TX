package com.example.mmrecorder_components;

import java.io.File;
import java.io.IOException;
import java.io.StringWriter;

import org.xmlpull.v1.XmlSerializer;

import android.os.Bundle;
import android.app.Activity;
import android.util.Log;
import android.util.Xml;
import android.view.Menu;

public class XMLActivity extends Activity {

	@Override
	protected void onCreate(Bundle savedInstanceState) 
	{
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_xml);
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) 
	{
		// Inflate the menu; this adds items to the action bar if it is present.
		getMenuInflater().inflate(R.menu.xml, menu);
		return true;
	}
	public void createXML()
	{
		File newxmlfile = new File("/mnt/sdcard/new.xml");
		try{
	            newxmlfile.createNewFile();
	        }catch(IOException e)
	        {
	            Log.e("IOException", "Exception in create new File(");
	        }
	        FileOutputStream fileos = null;
	        try{
	            fileos = new FileOutputStream(newxmlfile);

	        }catch(FileNotFoundException e)
	        {
	            Log.e("FileNotFoundException",e.toString());
	        }
	}
	public static String writeUsingXMLSerializer() throws Exception {
	    XmlSerializer xmlSerializer = Xml.newSerializer();
	    StringWriter writer = new StringWriter();
	 
	    xmlSerializer.setOutput(writer);
	    // start DOCUMENT
	    xmlSerializer.startDocument("UTF-8", true);
	    // open tag: <record>
	    xmlSerializer.startTag("", "meeting");
	    // open tag: <study>
	    xmlSerializer.startTag("", "node1");
	    xmlSerializer.attribute("", "param1", "10");
	    xmlSerializer.endTag("", "node1");
	    // open tag: <topic>
	    
	    xmlSerializer.startTag("", "node2");
	    xmlSerializer.text("Du Text!");
	    xmlSerializer.endTag("", "node2");
	    
	    
	    xmlSerializer.endTag("", "meeting");
	    
	    
	    // end DOCUMENT
	    xmlSerializer.endDocument();
	 
	    return writer.toString();
	}
}
